{"version":3,"sources":["webpack:///./src/components/JunkList.tsx","webpack:///./src/components/SimpleNationBar.tsx","webpack:///./src/components/SimpleYearsBar.tsx","webpack:///./src/components/ProgramSummary.tsx","webpack:///../node_modules/@material-ui/core/esm/Collapse/Collapse.js","webpack:///./src/pages/index.tsx","webpack:///../node_modules/@material-ui/icons/ExpandMore.js"],"names":["JunkList","program","defaultOpen","playlist","map","tune","index","key","id","useStyles","makeStyles","theme","createStyles","root","fontSize","fontWeight","typography","fontWeightBold","bar","height","display","overflow","borderRadius","barInner","justifyContent","transition","transitions","create","flex","SimpleNationBar","classes","useTheme","isDark","palette","type","nations","React","nation","reduce","accum","curr","d","indexOf","filter","length","sort","a","b","className","Tooltip","arrow","title","style","width","Math","round","background","getNationColor","color","getContrastText","paddingTop","spacing","textAlign","backgroundColor","grey","borderRight","SimpleYearsBar","years","year","existedIndex","floor","expandIcon","transform","open","tagsOuter","overflowX","overflowY","scrollbarWidth","minHeight","WebkitOverflowScrolling","summaryArtists","marginRight","ProgramSummary","enableLink","setOpen","Box","py","flexDirection","minWidth","Typography","variant","component","week","date","AppLink","to","fields","slug","IconButton","onClick","aria-label","CategoriesAndSelectors","Collapse","in","unmountOnExit","pb","subtitle","gutterBottom","padding","margin","getPlaylistStrings","slice","artist","pt","useChipStyles","chip","categories","category","Chip","label","size","icon","navigate","state","guests","guest","selector","props","ref","children","_props$collapsedHeigh","collapsedHeight","collapsedHeightProp","_props$component","Component","inProp","onEnter","onEntered","onEntering","onExit","onExiting","_props$timeout","timeout","standard","other","timer","wrapperRef","autoTransitionDuration","concat","clearTimeout","current","node","isAppearing","wrapperHeight","clientHeight","transitionDuration","mode","duration","duration2","getAutoHeightDuration","addEndListener","_","next","setTimeout","childProps","container","entered","hidden","wrapper","wrapperInner","muiSupportAuto","visibility","name","IndexPage","console","log","recentProgram","allProgram","edges","maxWidth","_interopRequireDefault","Object","defineProperty","exports","value","_react","_default","createElement"],"mappings":"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","file":"component---src-pages-index-tsx-58880043cd1238e2eb1e.js","sourcesContent":["import * as React from 'react';\n//import { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\nimport ProgramSummary from './ProgramSummary';\nimport TuneCard from './TuneCard';\nimport { QueriedProgram } from '../types';\n\n//const useStyles = makeStyles((theme: Theme) => createStyles({}));\n\ninterface Props {\n  program: QueriedProgram;\n}\n\nfunction JunkList({ program }: Props) {\n  //const classes = useStyles();\n  return (\n    <div>\n      <ProgramSummary program={program} defaultOpen />\n      {program.playlist.map((tune, index) => (\n        <TuneCard tune={tune} key={tune.id} />\n      ))}\n    </div>\n  );\n}\n\nexport default JunkList;\n","import * as React from 'react';\nimport {\n  makeStyles,\n  createStyles,\n  Theme,\n  useTheme,\n} from '@material-ui/core/styles';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport getNationColor from '../utils/getNationColor';\nimport { ProgramPlaylist } from '../../graphql-types';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      fontSize: '.5em',\n      fontWeight: theme.typography.fontWeightBold,\n    },\n    bar: {\n      height: 16,\n      display: 'flex',\n      overflow: 'hidden',\n      borderRadius: 8,\n    },\n    barInner: {\n      display: 'flex',\n      justifyContent: 'center',\n      transition: theme.transitions.create(['width', 'background']),\n      '&:last-child': {\n        flex: 1,\n      },\n    },\n  })\n);\n\ninterface Props {\n  playlist: Pick<ProgramPlaylist, 'nation'>[];\n}\n\nfunction SimpleNationBar({ playlist }: Props) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const isDark = theme.palette.type === 'dark';\n  const nations = React.useMemo(\n    () =>\n      playlist\n        .map(tune => tune.nation)\n        .reduce(\n          (accum, curr) =>\n            accum.map(d => d[0]).indexOf(curr) < 0\n              ? [\n                  ...accum,\n                  [curr, playlist.filter(d => d.nation === curr).length],\n                ]\n              : [...accum],\n          []\n        )\n        .sort((a, b) => b[1] - a[1]),\n    [playlist]\n  );\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.bar}>\n        {nations.map((nation, index) => (\n          <Tooltip key={index} arrow title={`${nation[1]}曲`}>\n            <div\n              key={index}\n              className={classes.barInner}\n              style={{\n                width: `${Math.round((nation[1] * 100) / playlist.length)}%`,\n                background: getNationColor(nation[0], isDark),\n                color: theme.palette.getContrastText(\n                  getNationColor(nation[0], isDark)\n                ),\n              }}\n            >\n              <span>{nation[0]}</span>\n            </div>\n          </Tooltip>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default SimpleNationBar;\n","import * as React from 'react';\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { ProgramPlaylist } from '../../graphql-types';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      fontSize: '.5em',\n      fontWeight: theme.typography.fontWeightBold,\n      paddingTop: theme.spacing(1),\n    },\n    bar: {\n      height: 16,\n      display: 'flex',\n      overflow: 'hidden',\n      borderRadius: 8,\n    },\n    barInner: {\n      display: 'flex',\n      justifyContent: 'center',\n      textAlign: 'center',\n      backgroundColor:\n        theme.palette.type === 'dark'\n          ? theme.palette.grey[700]\n          : theme.palette.grey[300],\n      color:\n        theme.palette.type === 'dark'\n          ? theme.palette.grey[300]\n          : theme.palette.grey[700],\n      transition: theme.transitions.create(['width', 'background']),\n      borderRight: '.5px solid silver',\n      '&:last-child': {\n        borderRight: 'none',\n        flex: 1,\n      },\n    },\n  })\n);\n\ninterface Props {\n  playlist: Pick<ProgramPlaylist, 'year'>[];\n}\n\nfunction SimpleYearsBar({ playlist }: Props) {\n  const classes = useStyles();\n  const years = React.useMemo(\n    () =>\n      playlist\n        .map(tune => tune.year)\n        .reduce((accum, curr) => {\n          // [[197, 1], [198, 2]]\n          const existedIndex = accum\n            .map(d => d[0])\n            .indexOf(Math.floor(curr / 10));\n          if (existedIndex < 0) {\n            return [...accum, [Math.floor(curr / 10), 1]];\n          } else {\n            accum[existedIndex][1] += 1;\n            return accum;\n          }\n        }, [])\n        .sort((a, b) => a[0] - b[0])\n        .map(d => [d[0] * 10, d[1]]),\n    [playlist]\n  );\n  return (\n    <div className={classes.root}>\n      <div className={classes.bar}>\n        {years.map((years, index) => (\n          <Tooltip key={index} arrow title={`${years[1]}曲`}>\n            <div\n              key={index}\n              className={classes.barInner}\n              style={{\n                width: `${Math.round((years[1] * 100) / playlist.length)}%`,\n              }}\n            >\n              <span>{years[0]}s</span>\n            </div>\n          </Tooltip>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default SimpleYearsBar;\n","import * as React from 'react';\nimport { navigate } from 'gatsby';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Chip from '@material-ui/core/Chip';\nimport IconButton from '@material-ui/core/IconButton';\nimport Collapse from '@material-ui/core/Collapse';\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport AppLink from 'gatsby-theme-aoi/src/components/AppLink';\nimport SimpleNationBar from './SimpleNationBar';\nimport SimpleYearsBar from './SimpleYearsBar';\nimport { getPlaylistStrings } from '../utils/filterPlaylist';\nimport { CategoryIcon, SelectorIcon } from '../icons';\nimport { QueriedProgram } from '../types';\n\ninterface StyleProps {\n  open: boolean;\n}\n\nconst useStyles = makeStyles<Theme, StyleProps>((theme: Theme) =>\n  createStyles({\n    expandIcon: {\n      transform: ({ open }) => (open ? 'rotate(180deg)' : 'rotate(0deg)'),\n      transition: theme.transitions.create('transform'),\n    },\n    tagsOuter: {\n      overflowX: 'scroll',\n      overflowY: 'hidden',\n      scrollbarWidth: 'none',\n      minHeight: 40,\n      WebkitOverflowScrolling: 'touch',\n    },\n    summaryArtists: {\n      display: 'inline-block',\n      //fontWeight: theme.typography.fontWeightBold,\n      '&:not(:last-child)': {\n        marginRight: theme.spacing(1),\n      },\n    },\n  })\n);\n\ninterface Props {\n  program: QueriedProgram;\n  enableLink?: boolean;\n  defaultOpen?: boolean;\n}\n\nfunction ProgramSummary({\n  program,\n  enableLink = false,\n  defaultOpen = false,\n}: Props) {\n  const [open, setOpen] = React.useState(defaultOpen);\n  const classes = useStyles({ open });\n  const _handleOpen = () => {\n    setOpen(!open);\n  };\n  return (\n    <Box py={2}>\n      <Box display=\"flex\" height={140} flexDirection=\"column\">\n        <Box display=\"flex\" flex=\"1\">\n          <Box flex=\"1\" display=\"flex\" flexDirection=\"column\" minWidth={0}>\n            <Box>\n              <Typography variant=\"subtitle2\" component=\"span\">\n                第{program.week}回 {program.date} 全{program.playlist.length}曲\n              </Typography>\n            </Box>\n            <Box\n              flex=\"1\"\n              display=\"flex\"\n              flexDirection=\"column\"\n              justifyContent=\"center\"\n            >\n              <Typography variant=\"h6\" component=\"h2\">\n                {enableLink ? (\n                  <AppLink color=\"textPrimary\" to={program.fields.slug}>\n                    {program.title}\n                  </AppLink>\n                ) : (\n                  program.title\n                )}\n              </Typography>\n            </Box>\n          </Box>\n          <Box display=\"flex\" flexDirection=\"column\" justifyContent=\"center\">\n            <Box>\n              <IconButton onClick={_handleOpen} aria-label=\"Toggle Summary\">\n                <ExpandMoreIcon className={classes.expandIcon} />\n              </IconButton>\n            </Box>\n          </Box>\n        </Box>\n        <Box className={classes.tagsOuter}>\n          <CategoriesAndSelectors program={program} />\n        </Box>\n      </Box>\n      <Collapse in={open} unmountOnExit>\n        <Box pb={1}>\n          {program.subtitle ? (\n            <Typography variant=\"subtitle1\" gutterBottom>\n              {program.subtitle}\n            </Typography>\n          ) : null}\n          <Box>\n            <Box component=\"ul\" padding=\"inherit\" margin=\"inherit\">\n              {getPlaylistStrings(program.playlist.slice(1), 'artist').map(\n                artist => (\n                  <Typography\n                    variant=\"body2\"\n                    component=\"li\"\n                    key={artist}\n                    className={classes.summaryArtists}\n                  >\n                    <AppLink to={`/artist/${artist}/`} color=\"textSecondary\">\n                      {artist}\n                    </AppLink>\n                  </Typography>\n                )\n              )}\n            </Box>\n          </Box>\n          <Box pt={1}>\n            <SimpleNationBar playlist={program.playlist} />\n            <SimpleYearsBar playlist={program.playlist} />\n          </Box>\n        </Box>\n      </Collapse>\n    </Box>\n  );\n}\nexport default ProgramSummary;\n\nconst useChipStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    chip: {\n      margin: `0 ${theme.spacing(0.5)}px ${theme.spacing(1)}px 0`,\n    },\n  })\n);\n\nfunction CategoriesAndSelectors({\n  program,\n}: {\n  program: Pick<QueriedProgram, 'categories' | 'guests'>;\n}) {\n  const classes = useChipStyles();\n  return (\n    <Box width=\"max-content\">\n      {program.categories && program.categories.length\n        ? program.categories.map(category => (\n            <Chip\n              className={classes.chip}\n              key={category}\n              label={category}\n              color=\"primary\"\n              size=\"small\"\n              icon={<CategoryIcon />}\n              onClick={() => {\n                navigate('/categories/', {\n                  state: {\n                    category,\n                  },\n                });\n              }}\n            />\n          ))\n        : null}\n      {program.guests && program.guests.length\n        ? program.guests.map(guest => (\n            <Chip\n              className={classes.chip}\n              key={guest}\n              label={guest}\n              size=\"small\"\n              icon={<SelectorIcon />}\n              onClick={() => {\n                navigate('/selectors/', {\n                  state: {\n                    selector: guest,\n                  },\n                });\n              }}\n            />\n          ))\n        : null}\n    </Box>\n  );\n}\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { Transition } from 'react-transition-group';\nimport withStyles from '../styles/withStyles';\nimport { duration } from '../styles/transitions';\nimport { getTransitionProps } from '../transitions/utils';\nimport useTheme from '../styles/useTheme';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the container element. */\n    container: {\n      height: 0,\n      overflow: 'hidden',\n      transition: theme.transitions.create('height')\n    },\n\n    /* Styles applied to the container element when the transition has entered. */\n    entered: {\n      height: 'auto',\n      overflow: 'visible'\n    },\n\n    /* Styles applied to the container element when the transition has exited and `collapsedHeight` != 0px. */\n    hidden: {\n      visibility: 'hidden'\n    },\n\n    /* Styles applied to the outer wrapper element. */\n    wrapper: {\n      // Hack to get children with a negative margin to not falsify the height computation.\n      display: 'flex'\n    },\n\n    /* Styles applied to the inner wrapper element. */\n    wrapperInner: {\n      width: '100%'\n    }\n  };\n};\n/**\n * The Collapse transition is used by the\n * [Vertical Stepper](/components/steppers/#vertical-stepper) StepContent component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\n\nvar Collapse = React.forwardRef(function Collapse(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$collapsedHeigh = props.collapsedHeight,\n      collapsedHeightProp = _props$collapsedHeigh === void 0 ? '0px' : _props$collapsedHeigh,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      inProp = props[\"in\"],\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onEntering = props.onEntering,\n      onExit = props.onExit,\n      onExiting = props.onExiting,\n      style = props.style,\n      _props$timeout = props.timeout,\n      timeout = _props$timeout === void 0 ? duration.standard : _props$timeout,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"collapsedHeight\", \"component\", \"in\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExiting\", \"style\", \"timeout\"]);\n\n  var theme = useTheme();\n  var timer = React.useRef();\n  var wrapperRef = React.useRef(null);\n  var autoTransitionDuration = React.useRef();\n  var collapsedHeight = typeof collapsedHeightProp === 'number' ? \"\".concat(collapsedHeightProp, \"px\") : collapsedHeightProp;\n  React.useEffect(function () {\n    return function () {\n      clearTimeout(timer.current);\n    };\n  }, []);\n\n  var handleEnter = function handleEnter(node, isAppearing) {\n    node.style.height = collapsedHeight;\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  };\n\n  var handleEntering = function handleEntering(node, isAppearing) {\n    var wrapperHeight = wrapperRef.current ? wrapperRef.current.clientHeight : 0;\n\n    var _getTransitionProps = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'enter'\n    }),\n        transitionDuration = _getTransitionProps.duration;\n\n    if (timeout === 'auto') {\n      var duration2 = theme.transitions.getAutoHeightDuration(wrapperHeight);\n      node.style.transitionDuration = \"\".concat(duration2, \"ms\");\n      autoTransitionDuration.current = duration2;\n    } else {\n      node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : \"\".concat(transitionDuration, \"ms\");\n    }\n\n    node.style.height = \"\".concat(wrapperHeight, \"px\");\n\n    if (onEntering) {\n      onEntering(node, isAppearing);\n    }\n  };\n\n  var handleEntered = function handleEntered(node, isAppearing) {\n    node.style.height = 'auto';\n\n    if (onEntered) {\n      onEntered(node, isAppearing);\n    }\n  };\n\n  var handleExit = function handleExit(node) {\n    var wrapperHeight = wrapperRef.current ? wrapperRef.current.clientHeight : 0;\n    node.style.height = \"\".concat(wrapperHeight, \"px\");\n\n    if (onExit) {\n      onExit(node);\n    }\n  };\n\n  var handleExiting = function handleExiting(node) {\n    var wrapperHeight = wrapperRef.current ? wrapperRef.current.clientHeight : 0;\n\n    var _getTransitionProps2 = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'exit'\n    }),\n        transitionDuration = _getTransitionProps2.duration;\n\n    if (timeout === 'auto') {\n      var duration2 = theme.transitions.getAutoHeightDuration(wrapperHeight);\n      node.style.transitionDuration = \"\".concat(duration2, \"ms\");\n      autoTransitionDuration.current = duration2;\n    } else {\n      node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : \"\".concat(transitionDuration, \"ms\");\n    }\n\n    node.style.height = collapsedHeight;\n\n    if (onExiting) {\n      onExiting(node);\n    }\n  };\n\n  var addEndListener = function addEndListener(_, next) {\n    if (timeout === 'auto') {\n      timer.current = setTimeout(next, autoTransitionDuration.current || 0);\n    }\n  };\n\n  return React.createElement(Transition, _extends({\n    \"in\": inProp,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExiting: handleExiting,\n    addEndListener: addEndListener,\n    timeout: timeout === 'auto' ? null : timeout\n  }, other), function (state, childProps) {\n    return React.createElement(Component, _extends({\n      className: clsx(classes.container, className, {\n        'entered': classes.entered,\n        'exited': !inProp && collapsedHeight === '0px' && classes.hidden\n      }[state]),\n      style: _extends({\n        minHeight: collapsedHeight\n      }, style),\n      ref: ref\n    }, childProps), React.createElement(\"div\", {\n      className: classes.wrapper,\n      ref: wrapperRef\n    }, React.createElement(\"div\", {\n      className: classes.wrapperInner\n    }, children)));\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Collapse.propTypes = {\n  /**\n   * The content node to be collapsed.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The height of the container when collapsed.\n   */\n  collapsedHeight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a DOM element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * If `true`, the component will transition in.\n   */\n  \"in\": PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   *\n   * Set to 'auto' to automatically calculate transition time based on height.\n   */\n  timeout: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  }), PropTypes.oneOf(['auto'])])\n} : void 0;\nCollapse.muiSupportAuto = true;\nexport default withStyles(styles, {\n  name: 'MuiCollapse'\n})(Collapse);","import * as React from 'react';\nimport { useStaticQuery, graphql } from 'gatsby';\nimport Typography from '@material-ui/core/Typography';\nimport Layout from 'gatsby-theme-aoi/src/layout';\nimport JunkList from '../components/JunkList';\nimport { IndexQuery } from '../../graphql-types';\n\ninterface Props {\n  //location: LocationWithState;\n}\n\nfunction IndexPage(props: Props) {\n  console.log(props);\n  const data = useStaticQuery<IndexQuery>(graphql`\n    query Index {\n      allProgram(sort: { fields: week, order: DESC }, limit: 1) {\n        edges {\n          node {\n            id\n            title\n            week\n            date(formatString: \"YYYY-MM-DD\")\n            subtitle\n            year\n            categories\n            guests\n            playlist {\n              artist\n              corner\n              id\n              index\n              indexInWeek\n              kana\n              label\n              producer\n              nation\n              selector\n              title\n              week\n              year\n              youtube\n            }\n          }\n        }\n      }\n    }\n  `);\n  const recentProgram = data.allProgram.edges[0].node;\n\n  return (\n    <Layout maxWidth=\"md\">\n      <Typography variant=\"h5\" component=\"h2\">\n        最新のプレイリスト\n      </Typography>\n      <JunkList program={recentProgram} />\n    </Layout>\n  );\n}\n\nexport default IndexPage;\n","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon[\"default\"])(_react[\"default\"].createElement(\"path\", {\n  d: \"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"\n}), 'ExpandMore');\n\nexports[\"default\"] = _default;"],"sourceRoot":""}