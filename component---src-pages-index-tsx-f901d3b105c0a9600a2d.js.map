{"version":3,"sources":["webpack:///../gatsby-theme-aoi/src/layouts/JumbotronLayout/index.tsx","webpack:///./src/utils/useAnimation.tsx","webpack:///./src/components/index/Stat.tsx","webpack:///./src/components/Rank.tsx","webpack:///./src/components/ArtistsRank.tsx","webpack:///./src/components/index/Ranks.tsx","webpack:///./src/pages/index.tsx","webpack:///../node_modules/tiny-invariant/dist/tiny-invariant.esm.js","webpack:///../node_modules/react-intersection-observer/react-intersection-observer.esm.js","webpack:///../node_modules/@material-ui/core/esm/ListItemAvatar/ListItemAvatar.js","webpack:///./src/utils/useFullHeight.tsx","webpack:///./src/utils/useWindowSize.tsx","webpack:///../gatsby-theme-aoi/src/components/ListItemLink.tsx"],"names":["JumbotronLayout","jumbotron","disableGutters","children","maxWidth","props","disablePaddingTop","Container","Box","py","useAnimation","easingName","duration","delay","elapsed","React","setTime","animationFrame","timerStop","start","onFrame","Date","now","loop","requestAnimationFrame","timerDelay","setTimeout","cancelAnimationFrame","clearTimeout","useAnimationTimer","n","Math","min","easing","linear","elastic","inExpo","pow","useStyles","makeStyles","theme","createStyles","root","margin","title","display","alignItems","value","spacing","textAlign","label","marginLeft","StatCore","animation","round","Stat","icon","classes","useInView","triggerOnce","ref","inView","Grid","item","xs","className","container","sm","Typography","variant","component","Rank","items","itemTitle","itemValue","dense","List","subheader","ListSubheader","map","ListItemAppLink","key","fieldValue","button","to","ListItemAvatar","NationAvatar","nation","img","alt","ListItemText","primary","EdgesRank","edgesRankItem","useArtists","slice","edges","length","TunesRank","tunesRankItem","tunes","backgroundColor","palette","background","paper","gridItem","height","padding","overflow","webkitOverflowScrolling","Ranks","useFullHeight","useTheme","isMobile","useMediaQuery","breakpoints","only","enableMouseEvents","resistance","IndexPage","programs","useAllPrograms","tunesLength","reduce","accum","curr","playlist","artistsLength","useAllArtists","data","firstSong","allProgram","node","filter","tune","youtube","Jumbotron","header","imgUrl","componentViewports","BottomNav","ContentBasis","fontSize","index","ListItemLink","fields","slug","primaryText","secondaryText","week","date","divider","NavigationBox","condition","message","Error","_defineProperty","obj","Object","defineProperty","enumerable","configurable","writable","_extends","assign","target","i","arguments","source","prototype","hasOwnProperty","call","apply","this","_assertThisInitialized","self","ReferenceError","INSTANCE_MAP","Map","OBSERVER_MAP","ROOT_IDS","consecutiveRootId","observe","element","callback","options","threshold","_options","rootMargin","has","observerId","get","set","toString","getRootId","observerInstance","IntersectionObserver","instance","observer","thresholds","Array","isArray","unobserve","itemsLeft","rootObserved","forEach","disconnect","changes","intersection","isIntersecting","intersectionRatio","some","undefined","_React$Component","subClass","superClass","InView","_this","_len","args","_key","concat","entry","setState","observeNode","state","onChange","create","constructor","__proto__","_proto","componentDidMount","componentDidUpdate","prevProps","prevState","componentWillUnmount","_this$props","handleChange","render","_this$state","isPlainChildren","handleNode","_this$props2","as","tag","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","initialState","_React$useState","setRef","current","other","context","alignItemsFlexStart","minWidth","flexShrink","marginTop","name","isClient","window","getSize","width","innerWidth","innerHeight","windowSize","setWindowSize","handleResize","addEventListener","removeEventListener","useWindowSize","down","color","inset","avatar","secondaryAction","GatsbyLink","secondary"],"mappings":"yokBASe,SAASA,EAAT,GAAqG,IAA1EC,EAA0E,EAA1EA,UAAWC,EAA+D,EAA/DA,eAAgBC,EAA+C,EAA/CA,SAA+C,IAArCC,gBAAqC,SAAhBC,E,oIAAgB,yDAClH,OACE,gBAAC,IAAD,eAAQD,UAAU,EAAOF,gBAAc,EAACI,mBAAiB,GAAKD,GAC3DJ,EACD,gBAACM,EAAA,EAAD,CAAWH,SAAUA,EAAUF,eAAgBA,GAC7C,gBAACM,EAAA,EAAD,CAAKC,GAAI,GAAIN,K,4ECJN,SAASO,EAAaC,EAAmCC,EAAgBC,QAAW,IAA9DF,MAAyB,eAAqC,IAA3BC,MAAW,UAAgB,IAAXC,MAAQ,GAI9F,IAAMC,EAgBR,SAA2BF,EAAiBC,QAAW,IAA5BD,MAAW,UAAiB,IAAXC,MAAQ,GAAG,MAC1BE,WAAe,GAAnCD,EAD8C,KACrCE,EADqC,KA6CrD,OA1CAD,aACE,WACE,IAAIE,EACAC,EACAC,EAGJ,SAASC,IACPJ,EAAQK,KAAKC,MAAQH,GACrBI,IAIF,SAASA,IACPN,EAAiBO,sBAAsBJ,GAgBzC,IAAMK,EAAaC,YAbnB,WAEER,EAAYQ,YAAW,WACrBC,qBAAqBV,GACrBD,EAAQK,KAAKC,MAAQH,KACpBP,GAGHO,EAAQE,KAAKC,MACbC,MAIqCV,GAGvC,OAAO,WACLe,aAAaV,GACbU,aAAaH,GACbE,qBAAqBV,MAGzB,CAACL,EAAUC,IAGNC,EA7DSe,CAAkBjB,EAAUC,GAEtCiB,EAAIC,KAAKC,IAAI,EAAGlB,EAAUF,GAEhC,OAAOqB,EAAOtB,GAAYmB,GAM5B,IAAMG,EAAiB,CACrBC,OAAQ,SAACJ,GAAD,OAAeA,GACvBK,QAAS,SAACL,GAAD,OAAeA,GAAK,GAAKA,EAAIA,EAAIA,EAAIA,EAAI,IAAMA,EAAIA,EAAIA,EAAI,IAAMA,EAAIA,EAAI,GAAKA,EAAI,KAC3FM,OAAQ,SAACN,GAAD,OAAeC,KAAKM,IAAI,EAAG,IAAMP,EAAI,MCpB/C,IAAMQ,EAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,KAAM,CACJC,OAAQ,QAEVC,MAAO,CACLC,QAAS,OACTC,WAAY,UAEdC,MAAO,CACLJ,OAAQ,OACRvC,SAAUoC,EAAMQ,QAAQ,IACxBC,UAAW,SAEbC,MAAO,CACLC,WAAY,aA2ClB,SAASC,EAAT,GAAgD,IAA5BL,EAA4B,EAA5BA,MACZM,EAAY3C,EAAa,SAAUqC,EAAO,KAChD,OAAO,4BAAOhB,KAAKuB,MAAMP,EAAQM,IAGpBE,MApCf,YAAoD,IAApCC,EAAoC,EAApCA,KAAMT,EAA8B,EAA9BA,MAAOG,EAAuB,EAAvBA,MAAON,EAAgB,EAAhBA,MAC5Ba,EAAUnB,IADkC,EAE5BoB,YAAU,CAC9BC,aAAa,IADRC,EAF2C,KAEtCC,EAFsC,KAKlD,OACE,gBAACC,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,EAAGJ,IAAKA,EAAKK,UAAWR,EAAQf,MAC7C,gBAACoB,EAAA,EAAD,CAAMI,WAAS,GACb,gBAACJ,EAAA,EAAD,CAAMG,UAAWR,EAAQb,MAAOmB,MAAI,EAACC,GAAI,GAAIG,GAAI,GAC/C,gBAACC,EAAA,EAAD,CAAYC,QAAQ,KAAKC,UAAU,QAChCd,GAEH,gBAACY,EAAA,EAAD,CAAYC,QAAQ,QAAQC,UAAU,QACnC1B,IAGL,gBAACkB,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAIG,GAAI,GACrB,uBAAKF,UAAWR,EAAQV,OACtB,gBAACqB,EAAA,EAAD,CAAYC,QAAQ,KAAKC,UAAU,MAChCT,EAAS,gBAACT,EAAD,CAAUL,MAAOA,IAAY,kCAEzC,gBAACqB,EAAA,EAAD,CAAYE,UAAU,OAAOL,UAAWR,EAAQP,OAC7CA,Q,yGCpBAqB,MAlBf,YAA4E,IAA5DC,EAA4D,EAA5DA,MAAO5B,EAAqD,EAArDA,MAAO6B,EAA8C,EAA9CA,UAAWC,EAAmC,EAAnCA,UAAmC,IAAxBC,aAAwB,SAC1E,OACE,gBAACC,EAAA,EAAD,CAAMC,UAAW,gBAACC,EAAA,EAAD,KAAgBlC,IAC9B4B,EAAMO,KAAI,SAAChB,GAAD,OACT,gBAACiB,EAAA,EAAD,CAAiBC,IAAKlB,EAAKmB,WAAYC,QAAM,EAACC,GAAE,WAAarB,EAAKmB,WAAlB,IAAiCP,MAAOA,GACtF,gBAACU,EAAA,EAAD,KACE,gBAACC,EAAA,EAAD,CAAcC,OAAQxB,EAAKwB,OAAQC,IAAKzB,EAAKyB,IAAKC,IAAK1B,EAAKmB,cAE9D,gBAACQ,EAAA,EAAD,CAAcC,QAASlB,EAAUV,KACjC,gBAACK,EAAA,EAAD,CAAYC,QAAQ,SAASC,UAAU,QACpCI,EAAUX,U,YCpBhB,SAAS6B,EAAT,GAAiC,IAAZ9D,EAAY,EAAZA,EACpB+D,EAAgBC,YAAW,QAAShE,GAAGiE,MAAM,GACnD,OACE,gBAAC,EAAD,CACEvB,MAAOqB,EACPjD,MAAK,WAAad,EAClB2C,UAAW,SAACV,GAAD,OAAUA,EAAKmB,YAC1BR,UAAW,SAACX,GAAD,OAAaA,EAAKiC,MAAMC,OAAxB,KACXtB,OAAK,IAKJ,SAASuB,EAAT,GAAiC,IAAZpE,EAAY,EAAZA,EACpBqE,EAAgBL,YAAW,QAAShE,GAAGiE,MAAM,GACnD,OACE,gBAAC,EAAD,CACEvB,MAAO2B,EACPvD,MAAK,SAAWd,EAChB2C,UAAW,SAACV,GAAD,OAAUA,EAAKmB,YAC1BR,UAAW,SAACX,GAAD,OAAaA,EAAKqC,MAAMH,OAAxB,KACXtB,OAAK,I,gBCjBLrC,EAAYC,aAA+B,SAACC,GAAD,OAC/CC,YAAa,CACXC,KAAM,CACJ2D,gBAAiB7D,EAAM8D,QAAQC,WAAWC,OAE5CC,SAAU,CACRC,OAAQ,qBAAGA,QACXC,QAASnE,EAAMQ,QAAQ,EAAG,GAC1B4D,SAAU,OACVC,wBAAyB,cAoChBC,MA/Bf,WACE,IAAMJ,EAASK,cACTvE,EAAQwE,cACRC,EAAWC,YAAc1E,EAAM2E,YAAYC,KAAK,OAChD3D,EAAUnB,EAAU,CAAEoE,WAE5B,OACE,uBAAKzC,UAAWR,EAAQf,MACrBuE,EACC,gBAAC,IAAD,CAAgBI,mBAAiB,EAACC,YAAU,GAC1C,uBAAKrD,UAAWR,EAAQgD,UACtB,gBAACb,EAAD,CAAW9D,EAAG,MAEhB,uBAAKmC,UAAWR,EAAQgD,UACtB,gBAACP,EAAD,CAAWpE,EAAG,OAIlB,gBAACgC,EAAA,EAAD,CAAMI,WAAS,GACb,gBAACJ,EAAA,EAAD,CAAMG,UAAWR,EAAQgD,SAAU1C,MAAI,EAACC,GAAI,GAAIG,GAAI,GAClD,gBAACyB,EAAD,CAAW9D,EAAG,MAEhB,gBAACgC,EAAA,EAAD,CAAMG,UAAWR,EAAQgD,SAAU1C,MAAI,EAACC,GAAI,GAAIG,GAAI,GAClD,gBAAC+B,EAAD,CAAWpE,EAAG,S,kwBCsDXyF,UAvFf,WACE,IAAMC,EAAWC,cACXC,EAAcF,EAASG,QAAO,SAACC,EAAOC,GAAR,kBAAqBD,GAArB,EAA+BC,EAAKC,aAAW,IAAI7B,OACjF8B,EAAgBC,cAAgB/B,OAEhCgC,EAAO,OAsCNC,EAAaD,EAAKE,WAAWnC,MAAM2B,QAAO,SAACC,EAAD,GAAqB,IAAXQ,EAAW,EAAXA,KACzD,OAAOA,EAAKN,SAAL,YAAoBF,GAApB,EAA8BQ,EAAKN,SAASO,QAAO,SAACC,GAAD,OAAUA,aAAA,EAAAA,EAAMC,UAA6B,MAAlBD,aAAA,EAAAA,EAAMC,cAApF,EAA2GX,KACjH,IA7CgB,GA8Cb3H,EACJ,gBAACuI,EAAA,EAAD,CACE5F,MAAM,+BACN6F,OAAO,wBACPC,OAAM,0BAA4BR,EAAUK,QAAtC,SACN7B,OAAQ,MAIZ,OACE,gBAAC,EAAD,CAAQtG,SAAS,KAAKuI,mBAAoB,CAAEC,WAAW,GAAS3I,UAAWA,GACzE,gBAAC4I,EAAA,EAAD,KACE,gBAAC/E,EAAA,EAAD,CAAMI,WAAS,GACb,gBAAC,EAAD,CAAMV,KAAM,gBAAC,IAAD,CAAasF,SAAS,YAAc/F,MAAOyE,EAASvB,OAAQrD,MAAM,KAAKM,MAAM,MACzF,gBAAC,EAAD,CAAMM,KAAM,gBAAC,IAAD,CAAUsF,SAAS,YAAc/F,MAAO2E,EAAa9E,MAAM,KAAKM,MAAM,MAClF,gBAAC,EAAD,CAAMM,KAAM,gBAAC,IAAD,CAAYsF,SAAS,YAAc/F,MAAOgF,EAAenF,MAAM,SAASM,MAAM,QAG9F,gBAAC2F,EAAA,EAAD,KACE,gBAACjE,EAAA,EAAD,CAAMC,UAAW,gBAACC,EAAA,EAAD,kBACdmD,EAAKE,WAAWnC,MAAMjB,KAAI,WAAWgE,GAAX,UAAGX,EAAH,EAAGA,KAAH,OACzB,gBAACY,EAAA,EAAD,CACE/D,IAAK8D,EACL3D,GAAE,oBAAEgD,EAAKa,cAAP,aAAE,EAAaC,YAAf,QAAuB,IACzBC,YAAW,UAAEf,EAAKxF,aAAP,QAAgB,MAC3BwG,cAAa,IAAMhB,EAAKiB,KAAX,KAAoBjB,EAAKkB,KACtCC,SAAO,SAKf,gBAACV,EAAA,EAAD,KACE,gBAACW,EAAA,EAAD,OAEF,gBAACX,EAAA,EAAD,KACE,gBAAC,EAAD,U,0OClFO,MAZf,SAAmBY,EAAWC,GAC5B,IAAID,EAKF,MAAM,IAAIE,MARD,qBCiBb,SAASC,EAAgBC,EAAK5E,EAAKlC,GAYjC,OAXIkC,KAAO4E,EACTC,OAAOC,eAAeF,EAAK5E,EAAK,CAC9BlC,MAAOA,EACPiH,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZL,EAAI5E,GAAOlC,EAGN8G,EAGT,SAASM,IAeP,OAdAA,EAAWL,OAAOM,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUtE,OAAQqE,IAAK,CACzC,IAAIE,EAASD,UAAUD,GAEvB,IAAK,IAAIrF,KAAOuF,EACVV,OAAOW,UAAUC,eAAeC,KAAKH,EAAQvF,KAC/CoF,EAAOpF,GAAOuF,EAAOvF,IAK3B,OAAOoF,IAGOO,MAAMC,KAAMN,WAwB9B,SAASO,EAAuBC,GAC9B,QAAa,IAATA,EACF,MAAM,IAAIC,eAAe,6DAG3B,OAAOD,EAGT,IAAIE,EAAe,IAAIC,IACnBC,EAAe,IAAID,IACnBE,EAAW,IAAIF,IACfG,EAAoB,EAwBxB,SAASC,EAAQC,EAASC,EAAUC,QAClB,IAAZA,IACFA,EAAU,IAKPA,EAAQC,YAAWD,EAAQC,UAAY,GAC5C,IAAIC,EAAWF,EACX/I,EAAOiJ,EAASjJ,KAChBkJ,EAAaD,EAASC,WACtBF,EAAYC,EAASD,UAKzB,GAHET,EAAaY,IAAIN,IAA4P,GAAU,GAGpRA,EAAL,CAGA,IAAIO,EArCN,SAAmBpJ,GACjB,OAAKA,EACD0I,EAASS,IAAInJ,GAAc0I,EAASW,IAAIrJ,IAC5C2I,GAAqB,EACrBD,EAASY,IAAItJ,EAAM2I,EAAkBY,YAC9Bb,EAASW,IAAIrJ,GAAQ,KAJV,GAoCDwJ,CAAUxJ,IAASkJ,EAAaF,EAAUO,WAAa,IAAML,EAAaF,EAAUO,YACjGE,EAAmBhB,EAAaY,IAAID,GAEnCK,IACHA,EAAmB,IAAIC,qBAAqB,EAAUX,GAGlDK,GAAYX,EAAaa,IAAIF,EAAYK,IAG/C,IAAIE,EAAW,CACbb,SAAUA,EACVD,QAASA,EACT1H,QAAQ,EACRiI,WAAYA,EACZQ,SAAUH,EAEVI,WAAYJ,EAAiBI,aAAeC,MAAMC,QAAQf,GAAaA,EAAY,CAACA,KAItF,OAFAT,EAAae,IAAIT,EAASc,GAC1BF,EAAiBb,QAAQC,GAClBc,GAST,SAASK,EAAUnB,GACjB,GAAKA,EAAL,CACA,IAAIc,EAAWpB,EAAac,IAAIR,GAEhC,GAAIc,EAAU,CACZ,IAAIP,EAAaO,EAASP,WACtBQ,EAAWD,EAASC,SACpB5J,EAAO4J,EAAS5J,KACpB4J,EAASI,UAAUnB,GAEnB,IAAIoB,GAAY,EAEZC,GAAe,EAGfd,GACFb,EAAa4B,SAAQ,SAAU9I,EAAMkB,GAC/BA,IAAQsG,IACNxH,EAAK+H,aAAeA,IACtBa,GAAY,EACZC,GAAe,GAGb7I,EAAKuI,SAAS5J,OAASA,IACzBkK,GAAe,QAMlBA,GAAgBlK,GAAM0I,EAAiB,OAAE1I,GAE1C4J,IAAaK,GAEfL,EAASQ,aAIX7B,EAAqB,OAAEM,KAI3B,SAAS,EAASwB,GAChBA,EAAQF,SAAQ,SAAUG,GACxB,IAAIC,EAAiBD,EAAaC,eAC9BC,EAAoBF,EAAaE,kBACjC7C,EAAS2C,EAAa3C,OACtBgC,EAAWpB,EAAac,IAAI1B,GAIhC,GAAIgC,GAAYa,GAAqB,EAAG,CAEtC,IAAIrJ,EAASwI,EAASE,WAAWY,MAAK,SAAUzB,GAC9C,OAAOW,EAASxI,OAASqJ,EAAoBxB,EAAYwB,GAAqBxB,UAGzD0B,IAAnBH,IAGFpJ,EAASA,GAAUoJ,GAGrBZ,EAASxI,OAASA,EAClBwI,EAASb,SAAS3H,EAAQmJ,OAmBhC,IAAI,EAAsB,SAAUK,GA5LpC,IAAwBC,EAAUC,EA+LhC,SAASC,IAGP,IAFA,IAAIC,EAEKC,EAAOnD,UAAUtE,OAAQ0H,EAAO,IAAInB,MAAMkB,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC/ED,EAAKC,GAAQrD,UAAUqD,GA6CzB,OAxCAhE,EAAgBkB,EAFhB2C,EAAQJ,EAAiB1C,KAAKC,MAAMyC,EAAkB,CAACxC,MAAMgD,OAAOF,KAAU9C,MAE/B,QAAS,CACtDhH,QAAQ,EACRiK,WAAOV,IAGTxD,EAAgBkB,EAAuB2C,GAAQ,OAAQ,MAEvD7D,EAAgBkB,EAAuB2C,GAAQ,cAAc,SAAUrF,GACjEqF,EAAMrF,OACRsE,EAAUe,EAAMrF,MAEXA,GAASqF,EAAMpN,MAAMsD,aACxB8J,EAAMM,SAAS,CACblK,QAAQ,EACRiK,WAAOV,KAKbK,EAAMrF,KAAOA,GAAc,KAE3BqF,EAAMO,iBAGRpE,EAAgBkB,EAAuB2C,GAAQ,gBAAgB,SAAU5J,EAAQiK,IAG3EjK,IAAW4J,EAAMQ,MAAMpK,QAAUA,IACnC4J,EAAMM,SAAS,CACblK,OAAQA,EACRiK,MAAOA,IAIPL,EAAMpN,MAAM6N,UAEdT,EAAMpN,MAAM6N,SAASrK,EAAQiK,MAI1BL,EAhPuBF,EA6LTF,GA7LDC,EA6LPE,GA5LN/C,UAAYX,OAAOqE,OAAOZ,EAAW9C,WAC9C6C,EAAS7C,UAAU2D,YAAcd,EACjCA,EAASe,UAAYd,EAgPrB,IAAIe,EAASd,EAAO/C,UAsEpB,OApEA6D,EAAOC,kBAAoB,WACxB1D,KAAKzC,MAAgM,GAAU,IAGlNkG,EAAOE,mBAAqB,SAA4BC,EAAWC,GAE7DD,EAAU7C,aAAef,KAAKxK,MAAMuL,YAAc6C,EAAU/L,OAASmI,KAAKxK,MAAMqC,MAAQ+L,EAAU/C,YAAcb,KAAKxK,MAAMqL,YAC7HgB,EAAU7B,KAAKzC,MACfyC,KAAKmD,eAGHU,EAAU7K,SAAWgH,KAAKoD,MAAMpK,QAC9BgH,KAAKoD,MAAMpK,QAAUgH,KAAKxK,MAAMsD,cAClC+I,EAAU7B,KAAKzC,MACfyC,KAAKzC,KAAO,OAKlBkG,EAAOK,qBAAuB,WACxB9D,KAAKzC,OACPsE,EAAU7B,KAAKzC,MACfyC,KAAKzC,KAAO,OAIhBkG,EAAON,YAAc,WACnB,GAAKnD,KAAKzC,KAAV,CACA,IAAIwG,EAAc/D,KAAKxK,MACnBqL,EAAYkD,EAAYlD,UACxBhJ,EAAOkM,EAAYlM,KACnBkJ,EAAagD,EAAYhD,WAC7BN,EAAQT,KAAKzC,KAAMyC,KAAKgE,aAAc,CACpCnD,UAAWA,EACXhJ,KAAMA,EACNkJ,WAAYA,MAIhB0C,EAAOQ,OAAS,WACd,IAAIC,EAAclE,KAAKoD,MACnBpK,EAASkL,EAAYlL,OACrBiK,EAAQiB,EAAYjB,MAExB,IAnHJ,SAAyBzN,GACvB,MAAiC,mBAAnBA,EAAMF,SAkHb6O,CAAgBnE,KAAKxK,OACxB,OAAOwK,KAAKxK,MAAMF,SAAS,CACzB0D,OAAQA,EACRiK,MAAOA,EACPlK,IAAKiH,KAAKoE,aAId,IAAIC,EAAerE,KAAKxK,MACpBF,EAAW+O,EAAa/O,SACxBgP,EAAKD,EAAaC,GAClBC,EAAMF,EAAaE,IAMnB/O,GALc6O,EAAavL,YACfuL,EAAaxD,UAClBwD,EAAaxM,KACPwM,EAAatD,WACfsD,EAAahB,SA3ShC,SAAuC1D,EAAQ6E,GAC7C,GAAc,MAAV7E,EAAgB,MAAO,GAC3B,IAEIvF,EAAKqF,EAFLD,EAAS,GACTiF,EAAaxF,OAAOyF,KAAK/E,GAG7B,IAAKF,EAAI,EAAGA,EAAIgF,EAAWrJ,OAAQqE,IACjCrF,EAAMqK,EAAWhF,GACb+E,EAASG,QAAQvK,IAAQ,IAC7BoF,EAAOpF,GAAOuF,EAAOvF,IAGvB,OAAOoF,EAgSOoF,CAA8BP,EAAc,CAAC,WAAY,KAAM,MAAO,cAAe,YAAa,OAAQ,aAAc,cAEpI,OAAO,wBAAcC,GAAMC,GAAO,MAAOjF,EAAS,CAChDvG,IAAKiH,KAAKoE,YACT5O,GAAQF,IAGNqN,EA7HiB,CA8HxB,aAEF5D,EAAgB,EAAQ,cAAe,UAEvCA,EAAgB,EAAQ,eAAgB,CACtC8B,UAAW,EACX/H,aAAa,IAKf,IAAI+L,EAAe,CACjB7L,QAAQ,EACRiK,WAAOV,GAGT,SAAS1J,EAAU+H,QACD,IAAZA,IACFA,EAAU,IAGZ,IAAI7H,EAAM,mBAEN+L,EAAkB,mBAASD,GAC3BzB,EAAQ0B,EAAgB,GACxB5B,EAAW4B,EAAgB,GAE3BC,EAAS,uBAAY,SAAUxH,GAC7BxE,EAAIiM,SACNnD,EAAU9I,EAAIiM,SAGZzH,GACFkD,EAAQlD,GAAM,SAAUvE,EAAQmJ,GAC9Be,EAAS,CACPlK,OAAQA,EACRiK,MAAOd,IAGLnJ,GAAU4H,EAAQ9H,aAEpB+I,EAAUtE,KAEXqD,GAIL7H,EAAIiM,QAAUzH,IACb,CAACqD,EAAQC,UAAWD,EAAQ/I,KAAM+I,EAAQG,WAAYH,EAAQ9H,cAQjE,OAPA,qBAAU,WACHC,EAAIiM,SAAW5B,IAAUyB,GAAiBjE,EAAQ9H,aAGrDoK,EAAS2B,MAGN,CAACE,EAAQ3B,EAAMpK,OAAQoK,EAAMH,S,kCCratC,4EAsBIzI,EAA8B,cAAiB,SAAwBhF,EAAOuD,GAChF,IAAIH,EAAUpD,EAAMoD,QAChBQ,EAAY5D,EAAM4D,UAClB6L,EAAQ,YAAyBzP,EAAO,CAAC,UAAW,cAEpD0P,EAAU,aAAiB,KAC/B,OAAoB,gBAAoB,MAAO,YAAS,CACtD9L,UAAW,YAAKR,EAAQf,KAAMuB,EAAkC,eAAvB8L,EAAQjN,YAA+BW,EAAQuM,qBACxFpM,IAAKA,GACJkM,OAGU,gBA5BK,CAElBpN,KAAM,CACJuN,SAAU,GACVC,WAAY,GAIdF,oBAAqB,CACnBG,UAAW,IAmBmB,CAChCC,KAAM,qBADO,CAEZ/K,I,0ECxBY0B,IAPf,WAAyB,IACfL,ECCK,WACb,IAAM2J,EAA6B,iBAAXC,OAExB,SAASC,IACP,MAAO,CACLC,MAAOH,EAAWC,OAAOG,gBAAarD,EACtC1G,OAAQ2J,EAAWC,OAAOI,iBAActD,GANM,MAUdrM,WAAewP,GAA5CI,EAV2C,KAU/BC,EAV+B,KAyBlD,OAbA7P,aAAgB,WACd,IAAKsP,EACH,OAAO,kBAAM,GAGf,SAASQ,IACPD,EAAcL,KAIhB,OADAD,OAAOQ,iBAAiB,SAAUD,GAC3B,kBAAMP,OAAOS,oBAAoB,SAAUF,OAG7CF,ED1BYK,GAAXtK,OACFlE,EAAQwE,cACRC,EAAWC,YAAc1E,EAAM2E,YAAY8J,KAAK,OACtD,OAAOlQ,WAAc,kBAAO2F,EAASA,GAAUO,EAAW,GAAK,IAAM,MAAM,CAACP,EAAQO,M,wLE+CvE+B,IAnCf,YAUsB,QATpBkI,aASoB,MATZ,UASY,MARpB/L,cAQoB,aAPpBgM,aAOoB,SANpB/L,EAMoB,EANpBA,GACA+D,EAKoB,EALpBA,YACAC,EAIoB,EAJpBA,cACAgI,EAGoB,EAHpBA,OACAC,EAEoB,EAFpBA,gBACGhR,E,oIACiB,6FAGpB,OAFiB6G,aAAc,SAAC1E,GAAD,OAAkBA,EAAM2E,YAAY8J,KAAK,UAErD9L,EACjB,gBAAC,IAAD,eAAUb,UAAWgN,OAAYlM,GAAIA,EAAID,QAAM,GAAK9E,GACjD+Q,EAAS,gBAAC,IAAD,KAAiBA,GAA2B,KACtD,gBAAC,IAAD,CAAczL,QAASwD,EAAaoI,UAAWnI,EAAe+H,MAAOA,IACpEE,EAAkB,gBAAC,IAAD,KAA0BA,GAA6C,MAG5F,gBAAC,IAAahR,EACX+Q,EAAS,gBAAC,IAAD,KAAiBA,GAA2B,KACtD,gBAAC,IAAD,CACED,MAAOA,EACPxL,QACE,gBAAC,IAAD,CAASP,GAAIA,EAAI8L,MAAOA,GACrB/H,GAGLoI,UAAWnI,GAAiB,OAE7BiI,EAAkB,gBAAC,IAAD,KAA0BA,GAA6C","file":"component---src-pages-index-tsx-f901d3b105c0a9600a2d.js","sourcesContent":["import * as React from 'react';\nimport Container from '@material-ui/core/Container';\nimport Box from '@material-ui/core/Box';\nimport Layout, { LayoutProps } from '../../layout';\n\ntype Props = {\n  jumbotron: JSX.Element | JSX.Element[];\n} & LayoutProps;\n\nexport default function JumbotronLayout({ jumbotron, disableGutters, children, maxWidth = false, ...props }: Props) {\n  return (\n    <Layout maxWidth={false} disableGutters disablePaddingTop {...props}>\n      {jumbotron}\n      <Container maxWidth={maxWidth} disableGutters={disableGutters}>\n        <Box py={4}>{children}</Box>\n      </Container>\n    </Layout>\n  );\n}\n","import * as React from 'react';\n\ntype Easing = {\n  linear: (n: number) => number;\n  elastic: (n: number) => number;\n  inExpo: (n: number) => number;\n};\ntype EasingName = 'linear' | 'elastic' | 'inExpo';\n\n// Hook\nexport default function useAnimation(easingName: EasingName = 'linear', duration = 500, delay = 0) {\n  // The useAnimationTimer hook calls useState every animation frame ...\n  // ... giving us elapsed time and causing a rerender as frequently ...\n  // ... as possible for a smooth animation.\n  const elapsed = useAnimationTimer(duration, delay);\n  // Amount of specified duration elapsed on a scale from 0 - 1\n  const n = Math.min(1, elapsed / duration);\n  // Return altered value based on our specified easing function\n  return easing[easingName](n);\n}\n\n// Some easing functions copied from:\n// https://github.com/streamich/ts-easing/blob/master/src/index.ts\n// Hardcode here or pull in a dependency\nconst easing: Easing = {\n  linear: (n: number) => n,\n  elastic: (n: number) => n * (33 * n * n * n * n - 106 * n * n * n + 126 * n * n - 67 * n + 15),\n  inExpo: (n: number) => Math.pow(2, 10 * (n - 1)),\n};\n\nfunction useAnimationTimer(duration = 1000, delay = 0) {\n  const [elapsed, setTime] = React.useState(0);\n\n  React.useEffect(\n    () => {\n      let animationFrame: number;\n      let timerStop: NodeJS.Timeout;\n      let start: number;\n\n      // Function to be executed on each animation frame\n      function onFrame() {\n        setTime(Date.now() - start);\n        loop();\n      }\n\n      // Call onFrame() on next animation frame\n      function loop() {\n        animationFrame = requestAnimationFrame(onFrame);\n      }\n\n      function onStart() {\n        // Set a timeout to stop things when duration time elapses\n        timerStop = setTimeout(() => {\n          cancelAnimationFrame(animationFrame);\n          setTime(Date.now() - start);\n        }, duration);\n\n        // Start the loop\n        start = Date.now();\n        loop();\n      }\n\n      // Start after specified delay (defaults to 0)\n      const timerDelay = setTimeout(onStart, delay);\n\n      // Clean things up\n      return () => {\n        clearTimeout(timerStop);\n        clearTimeout(timerDelay);\n        cancelAnimationFrame(animationFrame);\n      };\n    },\n    [duration, delay] // Only re-run effect if duration or delay changes\n  );\n\n  return elapsed;\n}\n","import * as React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\nimport { useInView } from 'react-intersection-observer';\nimport useAnimation from '../../utils/useAnimation';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      margin: 'auto',\n    },\n    title: {\n      display: 'flex',\n      alignItems: 'center',\n    },\n    value: {\n      margin: 'auto',\n      maxWidth: theme.spacing(16),\n      textAlign: 'right',\n    },\n    label: {\n      marginLeft: '.5em',\n    },\n  })\n);\n\ninterface Props {\n  icon: JSX.Element;\n  value: number;\n  label: string;\n  title: string;\n}\n\nfunction Stat({ icon, value, label, title }: Props) {\n  const classes = useStyles();\n  const [ref, inView] = useInView({\n    triggerOnce: true,\n  });\n  return (\n    <Grid item xs={4} ref={ref} className={classes.root}>\n      <Grid container>\n        <Grid className={classes.title} item xs={12} sm={5}>\n          <Typography variant=\"h4\" component=\"span\">\n            {icon}\n          </Typography>\n          <Typography variant=\"body2\" component=\"span\">\n            {title}\n          </Typography>\n        </Grid>\n        <Grid item xs={12} sm={7}>\n          <div className={classes.value}>\n            <Typography variant=\"h4\" component=\"em\">\n              {inView ? <StatCore value={value} /> : <span>0</span>}\n            </Typography>\n            <Typography component=\"span\" className={classes.label}>\n              {label}\n            </Typography>\n          </div>\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n}\n\nfunction StatCore({ value }: { value: number }) {\n  const animation = useAnimation('linear', value, 250);\n  return <span>{Math.round(value * animation)}</span>;\n}\n\nexport default Stat;\n","import * as React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport List from '@material-ui/core/List';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAppLink from 'gatsby-theme-aoi/src/components/ListItemAppLink';\nimport NationAvatar from './NationAvatar';\nimport { ArtistItem } from '../utils/graphql-hooks';\n\ninterface Props {\n  items: ArtistItem[];\n  title: string;\n  itemTitle: (item: ArtistItem) => string;\n  itemValue: (item: ArtistItem) => string | number;\n  dense?: boolean;\n}\n\nfunction Rank({ items, title, itemTitle, itemValue, dense = false }: Props) {\n  return (\n    <List subheader={<ListSubheader>{title}</ListSubheader>}>\n      {items.map((item) => (\n        <ListItemAppLink key={item.fieldValue} button to={`/artist/${item.fieldValue}/`} dense={dense}>\n          <ListItemAvatar>\n            <NationAvatar nation={item.nation} img={item.img} alt={item.fieldValue} />\n          </ListItemAvatar>\n          <ListItemText primary={itemTitle(item)} />\n          <Typography variant=\"button\" component=\"span\">\n            {itemValue(item)}\n          </Typography>\n        </ListItemAppLink>\n      ))}\n    </List>\n  );\n}\n\nexport default Rank;\n","import * as React from 'react';\nimport Rank from './Rank';\nimport { useArtists } from '../utils/graphql-hooks';\n\ninterface Props {\n  n: number;\n}\n\nexport function EdgesRank({ n }: Props) {\n  const edgesRankItem = useArtists('edges', n).slice(1);\n  return (\n    <Rank\n      items={edgesRankItem}\n      title={`登場回数 Top${n}`}\n      itemTitle={(item) => item.fieldValue}\n      itemValue={(item) => `${item.edges.length}回`}\n      dense\n    />\n  );\n}\n\nexport function TunesRank({ n }: Props) {\n  const tunesRankItem = useArtists('tunes', n).slice(1);\n  return (\n    <Rank\n      items={tunesRankItem}\n      title={`曲数 Top${n}`}\n      itemTitle={(item) => item.fieldValue}\n      itemValue={(item) => `${item.tunes.length}曲`}\n      dense\n    />\n  );\n}\n","import * as React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { makeStyles, createStyles, useTheme, Theme } from '@material-ui/core/styles';\nimport SwipeableViews from 'react-swipeable-views';\nimport { EdgesRank, TunesRank } from '../ArtistsRank';\nimport useFullHeight from '../../utils/useFullHeight';\n\ninterface StylesProps {\n  height: number;\n}\n\nconst useStyles = makeStyles<Theme, StylesProps>((theme) =>\n  createStyles({\n    root: {\n      backgroundColor: theme.palette.background.paper,\n    },\n    gridItem: {\n      height: ({ height }) => height,\n      padding: theme.spacing(2, 0),\n      overflow: 'auto',\n      webkitOverflowScrolling: 'touch',\n    },\n  })\n);\n\nfunction Ranks() {\n  const height = useFullHeight();\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.only('xs'));\n  const classes = useStyles({ height });\n\n  return (\n    <div className={classes.root}>\n      {isMobile ? (\n        <SwipeableViews enableMouseEvents resistance>\n          <div className={classes.gridItem}>\n            <EdgesRank n={25} />\n          </div>\n          <div className={classes.gridItem}>\n            <TunesRank n={25} />\n          </div>\n        </SwipeableViews>\n      ) : (\n        <Grid container>\n          <Grid className={classes.gridItem} item xs={12} sm={6}>\n            <EdgesRank n={25} />\n          </Grid>\n          <Grid className={classes.gridItem} item xs={12} sm={6}>\n            <TunesRank n={25} />\n          </Grid>\n        </Grid>\n      )}\n    </div>\n  );\n}\n\nexport default Ranks;\n","import * as React from 'react';\nimport { useStaticQuery, graphql } from 'gatsby';\nimport List from '@material-ui/core/List';\nimport Grid from '@material-ui/core/Grid';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport Layout from 'gatsby-theme-aoi/src/layouts/JumbotronLayout';\nimport ListItemLink from 'gatsby-theme-aoi/src/components/ListItemLink';\nimport Jumbotron from '../components/Jumbotron';\nimport Stat from '../components/index/Stat';\nimport NavigationBox from '../components/NavigationBox';\nimport Ranks from '../components/index/Ranks';\nimport ContentBasis from '../components/ContentBasis';\nimport { useAllPrograms, useAllArtists } from '../utils/graphql-hooks';\nimport { ProgramIcon, ArtistIcon, TuneIcon } from '../icons';\nimport { IndexQuery } from '../../graphql-types';\n\nfunction IndexPage() {\n  const programs = useAllPrograms();\n  const tunesLength = programs.reduce((accum, curr) => [...accum, ...curr.playlist], []).length;\n  const artistsLength = useAllArtists().length;\n\n  const data = useStaticQuery<IndexQuery>(graphql`\n    query Index {\n      allProgram(sort: { fields: week, order: DESC }, limit: 8) {\n        edges {\n          node {\n            id\n            title\n            week\n            date(formatString: \"YYYY-MM-DD\")\n            subtitle\n            year\n            categories\n            guests\n            fields {\n              slug\n            }\n            playlist {\n              artist\n              corner\n              id\n              index\n              indexInWeek\n              kana\n              label\n              producer\n              nation\n              selector\n              title\n              week\n              year\n              youtube\n            }\n          }\n        }\n      }\n    }\n  `);\n  //const [latest] = data.allProgram.edges;\n  const [firstSong] = data.allProgram.edges.reduce((accum, { node }) => {\n    return node.playlist ? [...accum, ...node.playlist.filter((tune) => tune?.youtube && tune?.youtube !== '')] : [...accum];\n  }, []);\n  const jumbotron = (\n    <Jumbotron\n      title=\"SPITZ草野マサムネのロック大陸漫遊記 プレイリスト集\"\n      header=\"TOKYO-FM 全国38局ネットで放送中\"\n      imgUrl={`https://i.ytimg.com/vi/${firstSong.youtube}/0.jpg`}\n      height={346}\n    />\n  );\n\n  return (\n    <Layout maxWidth=\"md\" componentViewports={{ BottomNav: false }} jumbotron={jumbotron}>\n      <ContentBasis>\n        <Grid container>\n          <Stat icon={<ProgramIcon fontSize=\"inherit\" />} value={programs.length} title=\"放送\" label=\"回\" />\n          <Stat icon={<TuneIcon fontSize=\"inherit\" />} value={tunesLength} title=\"曲数\" label=\"曲\" />\n          <Stat icon={<ArtistIcon fontSize=\"inherit\" />} value={artistsLength} title=\"アーティスト\" label=\"組\" />\n        </Grid>\n      </ContentBasis>\n      <ContentBasis>\n        <List subheader={<ListSubheader>過去2か月の放送</ListSubheader>}>\n          {data.allProgram.edges.map(({ node }, index) => (\n            <ListItemLink\n              key={index}\n              to={node.fields?.slug ?? '#'}\n              primaryText={node.title ?? '放送回'}\n              secondaryText={`第${node.week}回 ${node.date}`}\n              divider\n            />\n          ))}\n        </List>\n      </ContentBasis>\n      <ContentBasis>\n        <NavigationBox />\n      </ContentBasis>\n      <ContentBasis>\n        <Ranks />\n      </ContentBasis>\n    </Layout>\n  );\n}\n\nexport default IndexPage;\n","var isProduction = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\n\nfunction invariant(condition, message) {\n  if (condition) {\n    return;\n  }\n\n  if (isProduction) {\n    throw new Error(prefix);\n  }\n\n  throw new Error(prefix + \": \" + (message || ''));\n}\n\nexport default invariant;","import \"core-js/modules/es6.array.some\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.map\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.object.create\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.object.define-property\";\nimport { createElement, Component, useRef, useState, useCallback, useEffect } from 'react';\nimport invariant from 'tiny-invariant';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nvar INSTANCE_MAP = new Map();\nvar OBSERVER_MAP = new Map();\nvar ROOT_IDS = new Map();\nvar consecutiveRootId = 0;\n/**\n * Generate a unique ID for the root element\n * @param root\n */\n\nfunction getRootId(root) {\n  if (!root) return '';\n  if (ROOT_IDS.has(root)) return ROOT_IDS.get(root);\n  consecutiveRootId += 1;\n  ROOT_IDS.set(root, consecutiveRootId.toString());\n  return ROOT_IDS.get(root) + '_';\n}\n/**\n * Monitor element, and trigger callback when element becomes inView\n * @param element {HTMLElement}\n * @param callback {Function} Called with inView\n * @param options {Object} InterSection observer options\n * @param options.threshold {Number} Number between 0 and 1, indicating how much of the element should be inView before triggering\n * @param options.root {HTMLElement}\n * @param options.rootMargin {String} The CSS margin to apply to the root element.\n */\n\n\nfunction observe(element, callback, options) {\n  if (options === void 0) {\n    options = {};\n  } // IntersectionObserver needs a threshold to trigger, so set it to 0 if it's not defined.\n  // Modify the options object, since it's used in the onChange handler.\n\n\n  if (!options.threshold) options.threshold = 0;\n  var _options = options,\n      root = _options.root,\n      rootMargin = _options.rootMargin,\n      threshold = _options.threshold; // Validate that the element is not being used in another <Observer />\n\n  !!INSTANCE_MAP.has(element) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"react-intersection-observer: Trying to observe %s, but it's already being observed by another instance.\\nMake sure the `ref` is only used by a single <Observer /> instance.\\n\\n%s\") : invariant(false) : void 0;\n  /* istanbul ignore if */\n\n  if (!element) return; // Create a unique ID for this observer instance, based on the root, root margin and threshold.\n  // An observer with the same options can be reused, so lets use this fact\n\n  var observerId = getRootId(root) + (rootMargin ? threshold.toString() + \"_\" + rootMargin : threshold.toString());\n  var observerInstance = OBSERVER_MAP.get(observerId);\n\n  if (!observerInstance) {\n    observerInstance = new IntersectionObserver(onChange, options);\n    /* istanbul ignore else  */\n\n    if (observerId) OBSERVER_MAP.set(observerId, observerInstance);\n  }\n\n  var instance = {\n    callback: callback,\n    element: element,\n    inView: false,\n    observerId: observerId,\n    observer: observerInstance,\n    // Make sure we have the thresholds value. It's undefined on a browser like Chrome 51.\n    thresholds: observerInstance.thresholds || (Array.isArray(threshold) ? threshold : [threshold])\n  };\n  INSTANCE_MAP.set(element, instance);\n  observerInstance.observe(element);\n  return instance;\n}\n/**\n * Stop observing an element. If an element is removed from the DOM or otherwise destroyed,\n * make sure to call this method.\n * @param element {Element}\n */\n\n\nfunction unobserve(element) {\n  if (!element) return;\n  var instance = INSTANCE_MAP.get(element);\n\n  if (instance) {\n    var observerId = instance.observerId,\n        observer = instance.observer;\n    var root = observer.root;\n    observer.unobserve(element); // Check if we are still observing any elements with the same threshold.\n\n    var itemsLeft = false; // Check if we still have observers configured with the same root.\n\n    var rootObserved = false;\n    /* istanbul ignore else  */\n\n    if (observerId) {\n      INSTANCE_MAP.forEach(function (item, key) {\n        if (key !== element) {\n          if (item.observerId === observerId) {\n            itemsLeft = true;\n            rootObserved = true;\n          }\n\n          if (item.observer.root === root) {\n            rootObserved = true;\n          }\n        }\n      });\n    }\n\n    if (!rootObserved && root) ROOT_IDS[\"delete\"](root);\n\n    if (observer && !itemsLeft) {\n      // No more elements to observe for threshold, disconnect observer\n      observer.disconnect();\n    } // Remove reference to element\n\n\n    INSTANCE_MAP[\"delete\"](element);\n  }\n}\n\nfunction onChange(changes) {\n  changes.forEach(function (intersection) {\n    var isIntersecting = intersection.isIntersecting,\n        intersectionRatio = intersection.intersectionRatio,\n        target = intersection.target;\n    var instance = INSTANCE_MAP.get(target); // Firefox can report a negative intersectionRatio when scrolling.\n\n    /* istanbul ignore else */\n\n    if (instance && intersectionRatio >= 0) {\n      // If threshold is an array, check if any of them intersects. This just triggers the onChange event multiple times.\n      var inView = instance.thresholds.some(function (threshold) {\n        return instance.inView ? intersectionRatio > threshold : intersectionRatio >= threshold;\n      });\n\n      if (isIntersecting !== undefined) {\n        // If isIntersecting is defined, ensure that the element is actually intersecting.\n        // Otherwise it reports a threshold of 0\n        inView = inView && isIntersecting;\n      }\n\n      instance.inView = inView;\n      instance.callback(inView, intersection);\n    }\n  });\n}\n\nfunction isPlainChildren(props) {\n  return typeof props.children !== 'function';\n}\n/**\n * Monitors scroll, and triggers the children function with updated props\n *\n <InView>\n {({inView, ref}) => (\n   <h1 ref={ref}>{`${inView}`}</h1>\n )}\n </InView>\n */\n\n\nvar InView = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(InView, _React$Component);\n\n  function InView() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      inView: false,\n      entry: undefined\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"node\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleNode\", function (node) {\n      if (_this.node) {\n        unobserve(_this.node);\n\n        if (!node && !_this.props.triggerOnce) {\n          _this.setState({\n            inView: false,\n            entry: undefined\n          });\n        }\n      }\n\n      _this.node = node ? node : null;\n\n      _this.observeNode();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (inView, entry) {\n      // Only trigger a state update if inView has changed.\n      // This prevents an unnecessary extra state update during mount, when the element stats outside the viewport\n      if (inView !== _this.state.inView || inView) {\n        _this.setState({\n          inView: inView,\n          entry: entry\n        });\n      }\n\n      if (_this.props.onChange) {\n        // If the user is actively listening for onChange, always trigger it\n        _this.props.onChange(inView, entry);\n      }\n    });\n\n    return _this;\n  }\n\n  var _proto = InView.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    !this.node ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"react-intersection-observer: No DOM node found. Make sure you forward \\\"ref\\\" to the root DOM element you want to observe.\") : invariant(false) : void 0;\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    // If a IntersectionObserver option changed, reinit the observer\n    if (prevProps.rootMargin !== this.props.rootMargin || prevProps.root !== this.props.root || prevProps.threshold !== this.props.threshold) {\n      unobserve(this.node);\n      this.observeNode();\n    }\n\n    if (prevState.inView !== this.state.inView) {\n      if (this.state.inView && this.props.triggerOnce) {\n        unobserve(this.node);\n        this.node = null;\n      }\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.node) {\n      unobserve(this.node);\n      this.node = null;\n    }\n  };\n\n  _proto.observeNode = function observeNode() {\n    if (!this.node) return;\n    var _this$props = this.props,\n        threshold = _this$props.threshold,\n        root = _this$props.root,\n        rootMargin = _this$props.rootMargin;\n    observe(this.node, this.handleChange, {\n      threshold: threshold,\n      root: root,\n      rootMargin: rootMargin\n    });\n  };\n\n  _proto.render = function render() {\n    var _this$state = this.state,\n        inView = _this$state.inView,\n        entry = _this$state.entry;\n\n    if (!isPlainChildren(this.props)) {\n      return this.props.children({\n        inView: inView,\n        entry: entry,\n        ref: this.handleNode\n      });\n    }\n\n    var _this$props2 = this.props,\n        children = _this$props2.children,\n        as = _this$props2.as,\n        tag = _this$props2.tag,\n        triggerOnce = _this$props2.triggerOnce,\n        threshold = _this$props2.threshold,\n        root = _this$props2.root,\n        rootMargin = _this$props2.rootMargin,\n        onChange = _this$props2.onChange,\n        props = _objectWithoutPropertiesLoose(_this$props2, [\"children\", \"as\", \"tag\", \"triggerOnce\", \"threshold\", \"root\", \"rootMargin\", \"onChange\"]);\n\n    return createElement(as || tag || 'div', _extends({\n      ref: this.handleNode\n    }, props), children);\n  };\n\n  return InView;\n}(Component);\n\n_defineProperty(InView, \"displayName\", 'InView');\n\n_defineProperty(InView, \"defaultProps\", {\n  threshold: 0,\n  triggerOnce: false\n});\n/* eslint-disable react-hooks/exhaustive-deps */\n\n\nvar initialState = {\n  inView: false,\n  entry: undefined\n};\n\nfunction useInView(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var ref = useRef();\n\n  var _React$useState = useState(initialState),\n      state = _React$useState[0],\n      setState = _React$useState[1];\n\n  var setRef = useCallback(function (node) {\n    if (ref.current) {\n      unobserve(ref.current);\n    }\n\n    if (node) {\n      observe(node, function (inView, intersection) {\n        setState({\n          inView: inView,\n          entry: intersection\n        });\n\n        if (inView && options.triggerOnce) {\n          // If it should only trigger once, unobserve the element after it's inView\n          unobserve(node);\n        }\n      }, options);\n    } // Store a reference to the node, so we can unobserve it later\n\n\n    ref.current = node;\n  }, [options.threshold, options.root, options.rootMargin, options.triggerOnce]);\n  useEffect(function () {\n    if (!ref.current && state !== initialState && !options.triggerOnce) {\n      // If we don't have a ref, then reset the state (unless the hook is set to only `triggerOnce`)\n      // This ensures we correctly reflect the current state - If you aren't observing anything, then nothing is inView\n      setState(initialState);\n    }\n  });\n  return [setRef, state.inView, state.entry];\n}\n\nexport default InView;\nexport { InView, useInView };","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport ListContext from '../List/ListContext';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    minWidth: 56,\n    flexShrink: 0\n  },\n\n  /* Styles applied to the root element when the parent `ListItem` uses `alignItems=\"flex-start\"`. */\n  alignItemsFlexStart: {\n    marginTop: 8\n  }\n};\n/**\n * A simple wrapper to apply `List` styles to an `Avatar`.\n */\n\nvar ListItemAvatar = /*#__PURE__*/React.forwardRef(function ListItemAvatar(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\"]);\n\n  var context = React.useContext(ListContext);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, context.alignItems === 'flex-start' && classes.alignItemsFlexStart),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiListItemAvatar'\n})(ListItemAvatar);","import * as React from 'react';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { useTheme } from '@material-ui/core/styles';\nimport useWindowSize from './useWindowSize';\n\nfunction useFullHeight() {\n  const { height } = useWindowSize();\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('xs'));\n  return React.useMemo(() => (height ? height - (isMobile ? 56 : 64) : 480), [height, isMobile]);\n}\n\nexport default useFullHeight;\n","import * as React from 'react';\n\ninterface WindowSize {\n  width: number | undefined;\n  height: number | undefined;\n}\n\nexport default function useWindowSize(): WindowSize {\n  const isClient = typeof window === 'object';\n\n  function getSize(): WindowSize {\n    return {\n      width: isClient ? window.innerWidth : undefined,\n      height: isClient ? window.innerHeight : undefined,\n    };\n  }\n\n  const [windowSize, setWindowSize] = React.useState(getSize);\n\n  React.useEffect(() => {\n    if (!isClient) {\n      return () => false;\n    }\n\n    function handleResize() {\n      setWindowSize(getSize());\n    }\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }); // Empty array ensures that effect is only run on mount and unmount\n\n  return windowSize;\n}\n","import * as React from 'react';\nimport { Link as GatsbyLink, GatsbyLinkProps } from 'gatsby';\nimport ListItem, { ListItemProps } from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport { LinkProps as MuiLinkProps } from '@material-ui/core/Link';\nimport { Theme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport AppLink from './AppLink';\n\ntype ListItemLinkProps<T = Record<string, unknown>> = Omit<ListItemProps, 'ref'> &\n  Pick<MuiLinkProps, 'color'> & {\n    to: string;\n    primaryText: string;\n    secondaryText?: string;\n    inset?: boolean;\n    avatar?: JSX.Element;\n    secondaryAction?: JSX.Element;\n  } & Omit<GatsbyLinkProps<T>, 'ref' | 'button'>;\n\nfunction ListItemLink({\n  color = 'inherit',\n  button = false,\n  inset = false,\n  to,\n  primaryText,\n  secondaryText,\n  avatar,\n  secondaryAction,\n  ...props\n}: ListItemLinkProps) {\n  const isMobile = useMediaQuery((theme: Theme) => theme.breakpoints.down('xs'));\n\n  return isMobile || button ? (\n    <ListItem component={GatsbyLink} to={to} button {...props}>\n      {avatar ? <ListItemAvatar>{avatar}</ListItemAvatar> : null}\n      <ListItemText primary={primaryText} secondary={secondaryText} inset={inset} />\n      {secondaryAction ? <ListItemSecondaryAction>{secondaryAction}</ListItemSecondaryAction> : null}\n    </ListItem>\n  ) : (\n    <ListItem {...props}>\n      {avatar ? <ListItemAvatar>{avatar}</ListItemAvatar> : null}\n      <ListItemText\n        inset={inset}\n        primary={\n          <AppLink to={to} color={color}>\n            {primaryText}\n          </AppLink>\n        }\n        secondary={secondaryText || null}\n      />\n      {secondaryAction ? <ListItemSecondaryAction>{secondaryAction}</ListItemSecondaryAction> : null}\n    </ListItem>\n  );\n}\nexport default ListItemLink;\n"],"sourceRoot":""}