(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"4qGM":function(e,n,t){"use strict";t.r(n);var r=t("q1tI"),u=t("dfam"),a=t("JrkS"),o=t("eD//"),i=t("Ji2X"),l=t("YwZP"),c=t("7VIw"),s=t.n(c),f=t("7wYf"),d=t("mIa/"),m=t("Oq+9"),v=t("ADMj"),b=t("y16u"),g=t("23bq"),p=t("JVN4"),y=t("KoUe"),j=Object(f.bindKeyboard)(s.a);n.default=function(){var e,n,t=Object(l.useLocation)(),c=t.hash,s=t.state,f=Object(y.b)(),O=f.map((function(e){return e.fieldValue})),h=""!==c?decodeURI(c.slice(1)):null,w=O.indexOf(h)>=0?O.indexOf(h):(null==s?void 0:s.category)?O.indexOf(s.category):0,E=r.useState(w),x=E[0],M=E[1],V=Object(p.a)();return r.useEffect((function(){window&&"object"==typeof window&&window.history.replaceState(x,"","#"+f[x].fieldValue)}),[x,f]),r.createElement(d.a,{title:null!==(e=null===(n=f[x])||void 0===n?void 0:n.fieldValue)&&void 0!==e?e:"Category",tabSticky:!0,componentViewports:{BottomNav:!1},tabs:r.createElement(u.a,{value:x,onChange:function(e,n){M(n)},variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example"},f.map((function(e,n){var t;return r.createElement(a.a,{key:null!==(t=e.fieldValue)&&void 0!==t?t:n,label:e.fieldValue+" "+e.edges.length})})))},r.createElement(j,{index:x,onChangeIndex:function(e){M(e)},resistance:!0},f.map((function(e,n){return r.createElement(m.a,{key:n,value:x,index:n},r.createElement(o.a,null,e.edges.sort((function(e,n){return V(e.node.week&&n.node.week?e.node.week-n.node.week:0)})).map((function(e){var n,t,u;return r.createElement(v.a,{key:e.node.id,to:null!==(n=null===(t=e.node.fields)||void 0===t?void 0:t.slug)&&void 0!==n?n:"#",primaryText:null!==(u=e.node.title)&&void 0!==u?u:"Program",secondaryText:"第"+e.node.week+"回 "+e.node.date,divider:!0})}))))}))),r.createElement(i.a,{maxWidth:"md"},r.createElement(b.a,null,r.createElement(g.a,null))))}},"7SMM":function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var r=t("KQm4");function u(e,n){void 0===n&&(n={});var t=n.sortType||"abc";return Object(r.a)(e).sort((function(e,n){return"edges"===t?function(e,n){return-(e.edges.length-n.edges.length)}(e,n)||a(e,n):"tunes"===t&&function(e,n){return-(e.tunes.length-n.tunes.length)}(e,n)||a(e,n)}))}function a(e,n){return o(e.fieldValue,e.kana).localeCompare(o(n.fieldValue,n.kana))}function o(e,n){var t=e.slice(0,4);return"The "===t||"THE "===t||"the "===t?e.slice(4):n||e}},ADMj:function(e,n,t){"use strict";var r=t("zLVn"),u=t("q1tI"),a=t("Wbzz"),o=t("tVbE"),i=t("IsqK"),l=t("SLcR"),c=t("TjOe"),s=t("lopY"),f=t("v+NH");n.a=function(e){var n=e.color,t=void 0===n?"inherit":n,d=e.button,m=void 0!==d&&d,v=e.inset,b=void 0!==v&&v,g=e.to,p=e.primaryText,y=e.secondaryText,j=e.avatar,O=e.secondaryAction,h=Object(r.a)(e,["color","button","inset","to","primaryText","secondaryText","avatar","secondaryAction"]);return Object(s.a)((function(e){return e.breakpoints.down("xs")}))||m?u.createElement(o.a,Object.assign({component:a.Link,to:g,button:!0},h),j?u.createElement(l.a,null,j):null,u.createElement(i.a,{primary:p,secondary:y,inset:b}),O?u.createElement(c.a,null,O):null):u.createElement(o.a,h,j?u.createElement(l.a,null,j):null,u.createElement(i.a,{inset:b,primary:u.createElement(f.a,{to:g,color:t},p),secondary:y||null}),O?u.createElement(c.a,null,O):null)}},KoUe:function(e,n,t){"use strict";t.d(n,"d",(function(){return a})),t.d(n,"a",(function(){return l})),t.d(n,"e",(function(){return c})),t.d(n,"b",(function(){return s})),t.d(n,"f",(function(){return f})),t.d(n,"c",(function(){return m})),t.d(n,"h",(function(){return v})),t.d(n,"g",(function(){return g}));var r=t("q1tI"),u=t("Wbzz");function a(){var e=Object(u.useStaticQuery)("999573131");return r.useMemo((function(){return e.allProgram.edges.map((function(e){var n,t,r=e.node,u=(null!==(n=null===(t=r.playlist)||void 0===t?void 0:t.filter((function(e,n){return 0!==n&&(null==e?void 0:e.youtube)&&""!==e.youtube})).map((function(e){return null==e?void 0:e.youtube})))&&void 0!==n?n:[])[0];return Object.assign({},r,{img:u?"https://i.ytimg.com/vi/"+u+"/0.jpg":null})}))}),[e.allProgram.edges])}t("E9XD");var o=t("KQm4");var i=t("7SMM");function l(){var e=Object(u.useStaticQuery)("3372252566");return r.useMemo((function(){return e.allProgram.group.map((function(e){var n,t=function(e){return e.reduce((function(e,n){return e.map((function(e){return e.node.id})).indexOf(n.node.id)>=0?e:[].concat(Object(o.a)(e),[n])}),[])}(e.edges).map((function(n){var t,r,u=n.node;return Object.assign({},u,{playlist:null!==(t=null==u||null===(r=u.playlist)||void 0===r?void 0:r.filter((function(n){return(null==n?void 0:n.artist)===e.fieldValue})))&&void 0!==t?t:[]})})),r=t.reduce((function(e,n){return n.playlist?[].concat(Object(o.a)(e),Object(o.a)(n.playlist)):e}),[]),u=r[0],a=u.kana,i=u.nation,l=r.filter((function(e){return(null==e?void 0:e.youtube)&&""!==e.youtube})).map((function(e){return null==e?void 0:e.youtube})).slice(-1)[0];return{fieldValue:null!==(n=e.fieldValue)&&void 0!==n?n:"",kana:null!=a?a:void 0,nation:null!=i?i:"",edges:t,tunes:r,img:l?"https://i.ytimg.com/vi/"+l+"/0.jpg":void 0}}))}),[e])}function c(e,n){void 0===n&&(n=0);var t=l();return r.useMemo((function(){return Object(i.a)(t,{sortType:e}).slice(0,n||t.length)}),[e,n,t])}function s(){var e=Object(u.useStaticQuery)("3859703565");return r.useMemo((function(){return e.allProgram.group.sort((function(e,n){return n.edges.length-e.edges.length}))}),[e])}function f(e){var n=s();return r.useMemo((function(){return n.filter((function(n){return n.fieldValue&&e.includes(n.fieldValue)}))}),[e,n])}t("Qmzd");var d=t("NFSF");function m(){var e=l(),n=Array.from(new Set(e.map((function(e){return e.nation}))));return r.useMemo((function(){return n.map((function(n){return{nation:n,artists:e.filter((function(e){return n===e.nation})).length,tunes:e.filter((function(e){return n===e.nation})).reduce((function(e,n){return e+n.tunes.length}),0)}})).sort((function(e,n){return n.artists-e.artists||e.nation.localeCompare(n.nation)}))}),[n,e])}function v(){var e=m();return r.useMemo((function(){var n=e.reduce((function(e,n){return d.b.includes(n.nation)?[[].concat(Object(o.a)(e[0]),[n]),Object(o.a)(e[1])]:[Object(o.a)(e[0]),[].concat(Object(o.a)(e[1]),[n])]}),[[],[]]),t=n[0],r=n[1];return[].concat(Object(o.a)(t),[r.reduce((function(e,n){return Object.assign({},e,{artists:e.artists+n.artists,tunes:e.tunes+n.tunes})}),{nation:"others",artists:0,tunes:0})])}),[e])}function b(){var e,n=(e=a(),r.useMemo((function(){return e.reduce((function(e,n){return n.playlist?[].concat(Object(o.a)(e),Object(o.a)(n.playlist)):e}),[])}),[e])),t=Object(u.useStaticQuery)("2825366380");return r.useMemo((function(){return t.allProgram.group.map((function(e){var t=e.fieldValue;return{fieldValue:t,tunes:n.filter((function(e){return(null==e?void 0:e.year)===parseInt(null!=t?t:"0",10)}))}}))}),[n,t])}function g(e){void 0===e&&(e=[]),e.forEach((function(e){if(e%10!=0)throw new Error}));var n=b();return r.useMemo((function(){var t,r=10*Math.floor(parseInt(null!==(t=n[0].fieldValue)&&void 0!==t?t:"1960",10)/10),u=10*Math.floor((new Date).getFullYear()/10);return(e.length?e:Array.from({length:(u-r)/10+1},(function(e,n){return r+10*n}))).map((function(e){var t=n.filter((function(n){var t=n.fieldValue;return Math.floor(parseInt(null!=t?t:"0",10)/10)===e/10}));return{fieldValue:e+"s",value:t.reduce((function(e,n){return e+n.tunes.length}),0),items:t}}))}),[n,e])}},SLcR:function(e,n,t){"use strict";var r=t("wx14"),u=t("Ff2n"),a=t("q1tI"),o=t("iuhU"),i=t("H2TA"),l=t("MquD"),c=a.forwardRef((function(e,n){var t=e.classes,i=e.className,c=Object(u.a)(e,["classes","className"]),s=a.useContext(l.a);return a.createElement("div",Object(r.a)({className:Object(o.a)(t.root,i,"flex-start"===s.alignItems&&t.alignItemsFlexStart),ref:n},c))}));n.a=Object(i.a)({root:{minWidth:56,flexShrink:0},alignItemsFlexStart:{marginTop:8}},{name:"MuiListItemAvatar"})(c)}}]);
//# sourceMappingURL=component---src-pages-categories-tsx-63b283a7eee5b929fb4d.js.map