(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"7zBi":function(e,t,n){"use strict";var r=n("mXGw"),i=n("R82R"),a=n("ozoj"),o=n("BQn0"),l=n("/ZiB"),u=Object(i.a)((function(e){return Object(a.a)({jumbotronBg:function(t){var n=t.imgUrl;return{height:"100%",backgroundColor:e.palette.grey[700],backgroundImage:n?"url("+n+")":void 0,backgroundPosition:"center",backgroundSize:"cover",filter:n?"blur(6px) brightness(0.8)":void 0,transform:n?"scale(1.1)":void 0}},jumbotronText:function(t){var n;return(n={height:t.height,color:"white",position:"absolute",transform:"translate(0, -100%)",display:"flex",flexDirection:"column",justifyContent:"center",zIndex:2,padding:e.spacing(2,4)})[e.breakpoints.down("xs")]={padding:e.spacing(2)},n},jumbotronTitle:{fontWeight:"bold"},artists:{margin:0,padding:0},artist:{display:"inline-block",marginRight:".6em"}})}));t.a=function(e){var t=e.header,n=e.subtitle,i=e.title,a=e.artists,c=e.imgUrl,s=e.height,d=void 0===s?300:s,f=u({imgUrl:c,height:d});return r.createElement(o.a,{height:d,overflow:"hidden",position:"relative"},r.createElement("div",{className:f.jumbotronBg}),r.createElement("div",{className:f.jumbotronText},r.createElement(l.a,{variant:"subtitle2"},t),r.createElement(l.a,{variant:"h3",component:"h2",className:f.jumbotronTitle,gutterBottom:!0},i),n?r.createElement(l.a,{variant:"subtitle1"},n):null,a?r.createElement("ul",{className:f.artists},a.map((function(e){return r.createElement(l.a,{className:f.artist,variant:"subtitle2",component:"li",key:e},e)}))):null))}},DCqF:function(e,t,n){"use strict";var r=n("mXGw"),i=n("u44p"),a=n("NUsa"),o=n("YZpo"),l=n("5bSt"),u=n("xR0W"),c=n.n(u),s=n("ylWx"),d=n.n(s),f=n("HexO");t.a=function(e){var t=e.previous,n=e.next;return r.createElement(i.a,{subheader:r.createElement(a.a,null,"Navigation")},t?r.createElement(f.a,{dense:!0,button:!0,to:t.to},r.createElement(o.a,null,r.createElement(c.a,null)),r.createElement(l.a,{primary:t.title,secondary:"prev"})):null,n?r.createElement(f.a,{dense:!0,button:!0,to:n.to},r.createElement(o.a,null,r.createElement(d.a,null)),r.createElement(l.a,{primary:n.title,secondary:"next"})):null)}},JVN4:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("mXGw"),i=n("fUi+");function a(){var e=Object(i.b)().sort;return r.useCallback((function(t){return"older"===e?t:-t}),[e])}},Rgr8:function(e,t,n){"use strict";var r=n("mXGw"),i=n("BQn0"),a=n("SUdF"),o=n("/ZiB"),l=n("MU2d"),u=n("LOiH");var c=function(e){var t,n,a,c,s=e.program,d=e.filter,f=void 0===d?function(){return!0}:d;return r.createElement(i.a,{py:2},r.createElement(o.a,{variant:"subtitle2",component:"span"},"第",s.week,"回 ",s.date),r.createElement(o.a,{variant:"h6",component:"h3",gutterBottom:!0},r.createElement(l.a,{to:null!==(t=null===(n=s.fields)||void 0===n?void 0:n.slug)&&void 0!==t?t:"#"},s.title)),null!==(a=null==s||null===(c=s.playlist)||void 0===c?void 0:c.filter(f).map((function(e,t){var n;return r.createElement(u.b,{key:null!==(n=null==e?void 0:e.id)&&void 0!==n?n:t,tune:e})})))&&void 0!==a?a:null)},s=n("6CzD"),d=n("JVN4");function f(){return r.createElement(i.a,{py:4},r.createElement(u.a,null))}function m(e){var t=e.children,n=e.margin,i=void 0===n?0:n,o=e.once,l=void 0===o||o,u=Object(a.a)({rootMargin:i+"px",triggerOnce:l}),c=u[0],s=u[1];return r.createElement("div",{ref:c},s?t:r.createElement(f,null))}t.a=function(e){var t=e.programs,n=e.filter,i=void 0===n?function(){return!0}:n,a=e.divisor,o=function(e,t,n){void 0===n&&(n=function(){return!0});var i=Object(d.a)();return r.useMemo((function(){return e.sort((function(e,t){return i(e.week&&t.week?e.week-t.week:0)})).reduce((function(e,r,i){var a,o,l=Object.assign({},r,{playlist:null!==(a=null===(o=r.playlist)||void 0===o?void 0:o.filter(n))&&void 0!==a?a:[]});return 0===i?[[l]]:function(e){return e.reduce((function(e,t){return t.playlist?e+t.playlist.length:e}),0)}(e[e.length-1])<t?(e[e.length-1].push(l),e):[].concat(Object(s.a)(e),[[l]])}),[])}),[e,t,n,i])}(t,void 0===a?15:a,i),l=r.useMemo((function(){return o.map((function(e,t){return 0===t?r.createElement("div",{key:t},e.map((function(e){return r.createElement(c,{program:e,key:e.id})}))):r.createElement(m,{key:t,margin:40},e.map((function(e){return r.createElement(c,{program:e,key:e.id})})))}))}),[o]);return r.createElement("div",null,l)}},SUdF:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("mXGw");var i=function(e,t){if(!e)throw new Error("Invariant failed")};function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=new Map,c=new Map,s=new Map,d=0;function f(e,t,n){void 0===n&&(n={}),n.threshold||(n.threshold=0);var r=n,a=r.root,o=r.rootMargin,l=r.threshold;if(u.has(e)&&i(!1),e){var f=function(e){return e?s.has(e)?s.get(e):(d+=1,s.set(e,d.toString()),s.get(e)+"_"):""}(a)+(o?l.toString()+"_"+o:l.toString()),m=c.get(f);m||(m=new IntersectionObserver(v,n),f&&c.set(f,m));var h={callback:t,element:e,inView:!1,observerId:f,observer:m,thresholds:m.thresholds||(Array.isArray(l)?l:[l])};return u.set(e,h),m.observe(e),h}}function m(e){if(e){var t=u.get(e);if(t){var n=t.observerId,r=t.observer,i=r.root;r.unobserve(e);var a=!1,o=!1;n&&u.forEach((function(t,r){r!==e&&(t.observerId===n&&(a=!0,o=!0),t.observer.root===i&&(o=!0))})),!o&&i&&s.delete(i),r&&!a&&r.disconnect(),u.delete(e)}}}function v(e){e.forEach((function(e){var t=e.isIntersecting,n=e.intersectionRatio,r=e.target,i=u.get(r);if(i&&n>=0){var a=i.thresholds.some((function(e){return i.inView?n>e:n>=e}));void 0!==t&&(a=a&&t),i.inView=a,i.callback(a,e)}}))}var h=function(e){var t,n;function u(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a(l(t=e.call.apply(e,[this].concat(r))||this),"state",{inView:!1,entry:void 0}),a(l(t),"node",null),a(l(t),"handleNode",(function(e){t.node&&(m(t.node),e||t.props.triggerOnce||t.setState({inView:!1,entry:void 0})),t.node=e||null,t.observeNode()})),a(l(t),"handleChange",(function(e,n){(e!==t.state.inView||e)&&t.setState({inView:e,entry:n}),t.props.onChange&&t.props.onChange(e,n)})),t}n=e,(t=u).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=u.prototype;return c.componentDidMount=function(){this.node||i(!1)},c.componentDidUpdate=function(e,t){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold||(m(this.node),this.observeNode()),t.inView!==this.state.inView&&this.state.inView&&this.props.triggerOnce&&(m(this.node),this.node=null)},c.componentWillUnmount=function(){this.node&&(m(this.node),this.node=null)},c.observeNode=function(){if(this.node){var e=this.props,t=e.threshold,n=e.root,r=e.rootMargin;f(this.node,this.handleChange,{threshold:t,root:n,rootMargin:r})}},c.render=function(){var e=this.state,t=e.inView,n=e.entry;if(!function(e){return"function"!=typeof e.children}(this.props))return this.props.children({inView:t,entry:n,ref:this.handleNode});var i=this.props,a=i.children,l=i.as,u=i.tag,c=(i.triggerOnce,i.threshold,i.root,i.rootMargin,i.onChange,function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(i,["children","as","tag","triggerOnce","threshold","root","rootMargin","onChange"]));return Object(r.createElement)(l||u||"div",o({ref:this.handleNode},c),a)},u}(r.Component);a(h,"displayName","InView"),a(h,"defaultProps",{threshold:0,triggerOnce:!1});var p={inView:!1,entry:void 0};function g(e){void 0===e&&(e={});var t=Object(r.useRef)(),n=Object(r.useState)(p),i=n[0],a=n[1],o=Object(r.useCallback)((function(n){t.current&&m(t.current),n&&f(n,(function(t,r){a({inView:t,entry:r}),t&&e.triggerOnce&&m(n)}),e),t.current=n}),[e.threshold,e.root,e.rootMargin,e.triggerOnce]);return Object(r.useEffect)((function(){t.current||i===p||e.triggerOnce||a(p)})),[o,i.inView,i.entry]}},Zfvn:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("mXGw"),i=n("Wbzz"),a=n("R82R"),o=n("ozoj"),l=n("BQn0"),u=n("/NZN"),c=n("xR0W"),s=n.n(c),d=n("ylWx"),f=n.n(d),m=(n("9dpD"),Object(a.a)((function(e){var t;return Object(o.a)({root:(t={display:"flex",flexDirection:"row",justifyContent:"space-between"},t[e.breakpoints.down("sm")]={flexDirection:"column"},t)})})));function v(e,t,n){return{previous:e?{to:n+"/"+e.fieldValue+"/",title:e.fieldValue}:void 0,next:t?{to:n+"/"+t.fieldValue,title:t.fieldValue}:void 0}}t.b=function(e){var t=e.previous,n=e.next,a=m();return r.createElement(l.a,{className:a.root},t?r.createElement(l.a,{py:1,pr:1,textAlign:"left"},r.createElement(u.a,{component:i.Link,variant:"outlined",to:t.to},r.createElement(s.a,null),t.title)):null,n?r.createElement(l.a,{py:1,pl:1,textAlign:"right"},r.createElement(u.a,{component:i.Link,variant:"outlined",to:n.to},n.title,r.createElement(f.a,null))):null)}},amBo:function(e,t,n){"use strict";n.r(t),n.d(t,"query",(function(){return j}));var r=n("mXGw"),i=n("Wbzz"),a=n("/ZiB"),o=n("5UIW"),l=n("BQn0"),u=n("9dpD"),c=n("zaJg"),s=n.n(c),d=n("FJwj"),f=n("ThN4"),m=n("7zBi"),v=n("Rgr8"),h=n("LOiH"),p=n("DCqF"),g=n("Zfvn"),b=n("y16u"),E=n("23bq"),w=n("7SMM"),y=n("KoUe"),O=Object(d.bindKeyboard)(Object(d.virtualize)(s.a));t.default=function(e){var t=e.data,n=e.pageContext,c=Object(y.a)(),s=r.useMemo((function(){return Object(w.a)(c)}),[c]),d=n.previous,j=n.next,x=n.index,k=n.fieldValue,V=t.allProgram.edges,M=r.useState(!1),N=M[0],C=M[1],B=r.useState(x),z=B[0],U=B[1];return r.useEffect((function(){var e=setTimeout((function(){z!==x&&(C(!0),Object(i.navigate)("/artist/"+s[z].fieldValue))}),500);return function(){clearTimeout(e)}}),[z,s,x]),r.createElement(f.a,{title:k,disableGutters:!0,disablePaddingTop:!0,loading:N,maxWidth:!1,componentViewports:{BottomNav:!1},drawerContents:r.createElement(p.a,Object(g.a)(d,j,"/artist"))},r.createElement(O,{index:z,onChangeIndex:function(e){U(e)},slideRenderer:function(e){var t=e.index,n=e.key,i=s[t];return r.createElement("div",{key:n},r.createElement(m.a,{title:i.fieldValue,subtitle:"登場回: "+i.edges.length+" 曲数: "+i.tunes.length,imgUrl:i.img}),r.createElement(o.a,{maxWidth:"md"},r.createElement(l.a,{pt:4},i.fieldValue===k?r.createElement("div",null,r.createElement(v.a,{programs:V.map((function(e){return e.node})),filter:function(e){return e.artist===k}}),r.createElement(b.a,null,r.createElement(g.b,Object(g.a)(d,j,"/artist"))),r.createElement(b.a,null,r.createElement(E.a,null))):r.createElement("div",null,r.createElement(l.a,{py:2},r.createElement(a.a,{variant:"subtitle2"},r.createElement(u.a,{variant:"text",width:100})),r.createElement(a.a,{variant:"h6"},r.createElement(u.a,{variant:"text"})),r.createElement(h.a,null))))))},slideCount:s.length,resistance:!0}))};var j="1228417001"},xR0W:function(e,t,n){"use strict";var r=n("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("mXGw")),a=(0,r(n("c9Um")).default)(i.default.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");t.default=a},ylWx:function(e,t,n){"use strict";var r=n("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("mXGw")),a=(0,r(n("c9Um")).default)(i.default.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");t.default=a}}]);
//# sourceMappingURL=component---src-templates-artist-tsx-c731e238c4aacc14ab84.js.map